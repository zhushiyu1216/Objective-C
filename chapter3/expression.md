# 算术表达式
这一节我们主要讲算术表达式，算术表达式主要由运算符连接。我们这个教程需要大家有一定的C语言基础，而这一节的内容基本跟C是一样的，所以我们只会给出一些查询表，不再做过细的讲解。

## 常用运算符优先级

OC的运算符主要有以下六类：

- 算术运算符（+ - * / % ++ --）
- 赋值运算符（＝ += -= *= /= %= &= ^= |= <<= >>=）
- 比较运算符（> < == != >= <=）
- 逻辑运算符（&& || ! ^）
- 位运算符（& | ~ ^ << >>）
- 类型相关运算符

各运算符的优先级如下表，它从高到低列出了运算符的优先级。同一行中的运算符具有相同优先级，然后运算符的优先级是运算表达式从左到右。

| 优先级 | 运算符 | 名称或含义 | 使用形式 | 结合方向 | 说明 |
| :---: | :---: | --- | --- | --- | --- |
| 1 | - | 负号运算符 | -表达式 | 右到左 | 单目运算符 |
| 1 | ++ | 自增运算符 | ++变量名/变量名++ | 单目运算符 |
| 1 | --  | 自减运算符 | --变量名/变量名-- | 单目运算符 |
| 1 | ! | 逻辑非运算符 | !表达式 | 单目运算符 |
| 1 | ~ | 按位取反运算符 | ~表达式 | 单目运算符 |
| | | |
| 2 | / | 除 | 表达式/表达式 | 左到右 | 双目运算符 |
| 2 | * | 乘 | 表达式*表达式 | 双目运算符 |
| 2 | % | 余数（取模）| 整型表达式/整型表达式 | 双目运算符 |
| | | |
| 3 | + | 加 | 表达式+表达式 | 左到右 | 双目运算符 |
| 3 | - | 减 | 表达式-表达式 | 双目运算符 |
| | | | 
| 4 | << | 左移 | 变量<<表达式 | 左到右 | 双目运算符 |
| 4 | >> | 右移 | 变量>>表达式 | 双目运算符 |
| | | |
| 5 | > | 大于 | 表达式>表达式 | 左到右 | 双目运算符 |
| 5 | >= | 大于等于 | 表达式>=表达式 | 双目运算符 |
| 5 | < | 小于 | 表达式<表达式 | 双目运算符 |
| 5 | <= | 小于等于 | 表达式<=表达式 | 双目运算符 |
| | | |
| 6 | == | 等于 | 表达式==表达式 | 左到右 | 双目运算符 |
| 6 | != | 不等于 | 表达式!= | 表达式 | 双目运算符 |
| | | |
| 7 | & | 按位与 | 表达式&表达式 | 左到右 | 双目运算符 |
| | | |
| 8 | ^ | 按位异或 | 表达式^表达式 | 左到右 | 双目运算符 |
| 9 | \| | 按位或 | 表达式|表达式 | 左到右 | 双目运算符 |
| 10 | && | 逻辑与 | 表达式&&表达式 | 左到右 | 双目运算符 |
| 11 | || | 逻辑或 | 表达式||表达式 | 左到右 | 双目运算符 |
| 12 | ?: | 条件运算符 | 表达式1? 表达式2: 表达式3 | 右到左 | 三目运算符 |
| | | |
| 13 | = | 赋值运算符 | 变量=表达式 | 右到左 |
| 13 | /= | 除后赋值 | 变量/=表达式 |
| 13 | *= | 乘后赋值 | 变量*=表达式 |
| 13 | %= | 取模后赋值 | 变量%=表达式 |
| 13 | += | 加后赋值 | 变量+=表达式 |
| 13 | -= | 减后赋值 | 变量-=表达式 |
| 13 | <<= | 左移后赋值 | 变量<<=表达式 |
| 13 | >>= | 右移后赋值 | 变量>>=表达式 |
| 13 | &= | 按位与后赋值 | 变量&=表达式 |
| 13 | ^= | 按位异或后赋值 | 变量^=表达式 |
| 13 | \|= | 按位或后赋值 | 变量\|=表达式 |
| | | |
| 14 | , | 逗号运算符 | 表达式,表达式,… | 左到右 | 从左向右顺序运算 |

## 数据类型转换
数据类型转换与C差不太多，也分为隐式转换和显式类型转换。

所谓隐式转换，就是在进行运算符操作时，编译器会自动将对应的操作数转换为对应的类型，一般有以下几种提升操作数的形式：

``` objc
float f1 = 123.2;
float f2;
int i1, i2 = -150;

i1 = f1; // 浮点数123.2被截断转为123

f1 = i2; // 整数-150被转为浮点数-150.0

f1 = i2 / 100; //注意，由于/运算符优先级高于=，所以先做除运算后得-1，f1的最终值为-1.0

f2 = i2 / 100.0; // 此时，因为与浮点值运算，i2先被转为-150.0，最终f2 = -1.5
```

所谓显式类型转换，即使用对应的类型转换运算符显式的操作，类型转换操作符实际上就是一对小括号，括号内写上要转成的类型。

(类型) 变量/常量

如：

```objc
int a = (int) 29.55 + (int) 21.99;
```

如果对某些平时不常见的运算符还不够理解，建议你去补一下C语言对应的知识，这部分很基础，但非常重要。